{"version":3,"sources":["forms.js"],"names":["$","fn","forms","o","this","each","th","_","data","errorCl","emptyCl","invalidCl","notRequiredCl","successCl","successShow","mailHandlerURL","ownerEmail","stripHTML","smtpMailServer","targets","controls","validate","rx",".name","target",".state",".email",".phone",".fax",".message","preFu","labels","label","inp","defVal","val","trueVal","tmp","is","html","match","bind","hideEmptyFu","removeClass","validateFu","isEmpty","hideErrorFu","hasClass","find","css","display","hide","success","form","isRequired","el","isValid","ret","k","d","test","req","empty","valid","showEmptyFu","addClass","showErrorFu","getValFromLabel","length","submitFu","has","ajax","type","url","name","email","phone","fax","state","message","owner_email","showFu","slideDown","setTimeout","slideUp","trigger","controlsFu","init","me","submit","extend","jQuery","window","load"],"mappings":"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","file":"forms.min.js","sourcesContent":["(function($){\n\t$.fn.forms=function(o){\n\t\treturn this.each(function(){\n\t\t\tvar th=$(this)\n\t\t\t\t,_=th.data('forms')||{\n\t\t\t\t\terrorCl:'error',\n\t\t\t\t\temptyCl:'empty',\n\t\t\t\t\tinvalidCl:'invalid',\n\t\t\t\t\tnotRequiredCl:'notRequired',\n\t\t\t\t\tsuccessCl:'success',\n\t\t\t\t\tsuccessShow:'4000',\n\t\t\t\t\tmailHandlerURL:'bat/MailHandler.php',\n\t\t\t\t\townerEmail:'support@template-help.com',\n\t\t\t\t\tstripHTML:true,\n\t\t\t\t\tsmtpMailServer:'localhost',\n\t\t\t\t\ttargets:'input,textarea',\n\t\t\t\t\tcontrols:'a[data-type=reset],a[data-type=submit]',\n\t\t\t\t\tvalidate:true,\n\t\t\t\t\trx:{\n\t\t\t\t\t\t\".name\":{rx:/^[a-zA-Z'][a-zA-Z-' ]+[a-zA-Z']?$/,target:'input'},\n\t\t\t\t\t\t\".state\":{rx:/^[a-zA-Z'][a-zA-Z-' ]+[a-zA-Z']?$/,target:'input'},\n\t\t\t\t\t\t\".email\":{rx:/^((\"[\\w-\\s]+\")|([\\w-]+(?:\\.[\\w-]+)*)|(\"[\\w-\\s]+\")([\\w-]+(?:\\.[\\w-]+)*))(@((?:[\\w-]+\\.)*\\w[\\w-]{0,66})\\.([a-z]{2,6}(?:\\.[a-z]{2})?)$)|(@\\[?((25[0-5]\\.|2[0-4][0-9]\\.|1[0-9]{2}\\.|[0-9]{1,2}\\.))((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\\.){2}(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\\]?$)/i,target:'input'},\n\t\t\t\t\t\t\".phone\":{rx:/^\\+?(\\d[\\d\\-\\+\\(\\) ]{5,}\\d$)/,target:'input'},\n\t\t\t\t\t\t\".fax\":{rx:/^\\+?(\\d[\\d\\-\\+\\(\\) ]{5,}\\d$)/,target:'input'},\n\t\t\t\t\t\t\".message\":{rx:/.{20}/,target:'textarea'}\n\t\t\t\t\t},\n\t\t\t\t\tpreFu:function(){\n\t\t\t\t\t\t_.labels.each(function(){\n\t\t\t\t\t\t\tvar label=$(this),\n\t\t\t\t\t\t\t\tinp=$(_.targets,this),\n\t\t\t\t\t\t\t\tdefVal=inp.val(),\n\t\t\t\t\t\t\t\ttrueVal=(function(){\n\t\t\t\t\t\t\t\t\t\t\tvar tmp=inp.is('input')?(tmp=label.html().match(/value=['\"](.+?)['\"].+/),!!tmp&&!!tmp[1]&&tmp[1]):inp.html()\n\t\t\t\t\t\t\t\t\t\t\treturn defVal==''?defVal:tmp\n\t\t\t\t\t\t\t\t\t\t})()\n\t\t\t\t\t\t\ttrueVal!=defVal\n\t\t\t\t\t\t\t\t&&inp.val(defVal=trueVal||defVal)\n\t\t\t\t\t\t\tlabel.data({defVal:defVal})\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tinp\n\t\t\t\t\t\t\t\t.bind('focus',function(){\n\t\t\t\t\t\t\t\t\tinp.val()==defVal\n\t\t\t\t\t\t\t\t\t\t&&(inp.val(''),_.hideEmptyFu(label),label.removeClass(_.invalidCl))\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t.bind('blur',function(){\n\t\t\t\t\t\t\t\t\t_.validateFu(label)\n\t\t\t\t\t\t\t\t\tif(_.isEmpty(label))\n\t\t\t\t\t\t\t\t\t\tinp.val(defVal)\n\t\t\t\t\t\t\t\t\t\t,_.hideErrorFu(label.removeClass(_.invalidCl))\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t.bind('keyup',function(){\n\t\t\t\t\t\t\t\t\tlabel.hasClass(_.invalidCl)\n\t\t\t\t\t\t\t\t\t\t&&_.validateFu(label)\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\tlabel.find('.'+_.errorCl+',.'+_.emptyCl).css({display:'block'}).hide()\n\t\t\t\t\t\t})\n\t\t\t\t\t\t_.success=$('.'+_.successCl,_.form).hide()\n\t\t\t\t\t},\n\t\t\t\t\tisRequired:function(el){\t\t\t\t\t\t\t\n\t\t\t\t\t\treturn !el.hasClass(_.notRequiredCl)\n\t\t\t\t\t},\n\t\t\t\t\tisValid:function(el){\t\t\t\t\t\t\t\n\t\t\t\t\t\tvar ret=true\n\t\t\t\t\t\t$.each(_.rx,function(k,d){\n\t\t\t\t\t\t\tif(el.is(k))\n\t\t\t\t\t\t\t\tret=d.rx.test(el.find(d.target).val())\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t})\n\t\t\t\t\t\treturn ret\t\t\t\t\t\t\t\n\t\t\t\t\t},\n\t\t\t\t\tisEmpty:function(el){\n\t\t\t\t\t\tvar tmp\n\t\t\t\t\t\treturn (tmp=el.find(_.targets).val())==''||tmp==el.data('defVal')\n\t\t\t\t\t},\n\t\t\t\t\tvalidateFu:function(el){\t\t\t\t\t\t\t\n\t\t\t\t\t\tel.each(function(){\n\t\t\t\t\t\t\tvar th=$(this)\n\t\t\t\t\t\t\t\t,req=_.isRequired(th)\n\t\t\t\t\t\t\t\t,empty=_.isEmpty(th)\n\t\t\t\t\t\t\t\t,valid=_.isValid(th)\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tif(empty&&req)\n\t\t\t\t\t\t\t\t_.showEmptyFu(th.addClass(_.invalidCl))\n\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\t_.hideEmptyFu(th.removeClass(_.invalidCl))\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tif(!empty)\n\t\t\t\t\t\t\t\tif(valid)\n\t\t\t\t\t\t\t\t\t_.hideErrorFu(th.removeClass(_.invalidCl))\n\t\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\t\t_.showErrorFu(th.addClass(_.invalidCl))\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t})\n\t\t\t\t\t},\n\t\t\t\t\tgetValFromLabel:function(label){\n\t\t\t\t\t\tvar val=$('input,textarea',label).val()\n\t\t\t\t\t\t\t,defVal=label.data('defVal')\t\t\t\t\t\t\t\t\n\t\t\t\t\t\treturn label.length?val==defVal?'nope':val:'nope'\n\t\t\t\t\t}\n\t\t\t\t\t,submitFu:function(){\n\t\t\t\t\t\t_.validateFu(_.labels)\t\t\t\t\t\t\t\n\t\t\t\t\t\tif(!_.form.has('.'+_.invalidCl).length)\n\t\t\t\t\t\t\t$.ajax({\n\t\t\t\t\t\t\t\ttype: \"POST\",\n\t\t\t\t\t\t\t\turl:_.mailHandlerURL,\n\t\t\t\t\t\t\t\tdata:{\n\t\t\t\t\t\t\t\t\tname:_.getValFromLabel($('.name',_.form)),\n\t\t\t\t\t\t\t\t\temail:_.getValFromLabel($('.email',_.form)),\n\t\t\t\t\t\t\t\t\tphone:_.getValFromLabel($('.phone',_.form)),\n\t\t\t\t\t\t\t\t\tfax:_.getValFromLabel($('.fax',_.form)),\n\t\t\t\t\t\t\t\t\tstate:_.getValFromLabel($('.state',_.form)),\n\t\t\t\t\t\t\t\t\tmessage:_.getValFromLabel($('.message',_.form)),\n\t\t\t\t\t\t\t\t\towner_email:_.ownerEmail,\n\t\t\t\t\t\t\t\t\tstripHTML:_.stripHTML\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tsuccess: function(){\n\t\t\t\t\t\t\t\t\t_.showFu()\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t})\t\t\t\n\t\t\t\t\t},\n\t\t\t\t\tshowFu:function(){\n\t\t\t\t\t\t_.success.slideDown(function(){\n\t\t\t\t\t\t\tsetTimeout(function(){\n\t\t\t\t\t\t\t\t_.success.slideUp()\n\t\t\t\t\t\t\t\t_.form.trigger('reset')\n\t\t\t\t\t\t\t},_.successShow)\n\t\t\t\t\t\t})\n\t\t\t\t\t},\n\t\t\t\t\tcontrolsFu:function(){\n\t\t\t\t\t\t$(_.controls,_.form).each(function(){\n\t\t\t\t\t\t\tvar th=$(this)\n\t\t\t\t\t\t\tth\n\t\t\t\t\t\t\t\t.bind('click',function(){\n\t\t\t\t\t\t\t\t\t_.form.trigger(th.data('type'))\n\t\t\t\t\t\t\t\t\treturn false\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t})\n\t\t\t\t\t},\n\t\t\t\t\tshowErrorFu:function(label){\n\t\t\t\t\t\tlabel.find('.'+_.errorCl).slideDown()\n\t\t\t\t\t},\n\t\t\t\t\thideErrorFu:function(label){\n\t\t\t\t\t\tlabel.find('.'+_.errorCl).slideUp()\n\t\t\t\t\t},\n\t\t\t\t\tshowEmptyFu:function(label){\n\t\t\t\t\t\tlabel.find('.'+_.emptyCl).slideDown()\n\t\t\t\t\t\t_.hideErrorFu(label)\n\t\t\t\t\t},\n\t\t\t\t\thideEmptyFu:function(label){\n\t\t\t\t\t\tlabel.find('.'+_.emptyCl).slideUp()\n\t\t\t\t\t},\n\t\t\t\t\tinit:function(){\n\t\t\t\t\t\t_.form=_.me\t\t\t\t\t\t\n\t\t\t\t\t\t_.labels=$('label',_.form)\n\n\t\t\t\t\t\t_.preFu()\n\t\t\t\t\t\t\n\t\t\t\t\t\t_.controlsFu()\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t_.form\n\t\t\t\t\t\t\t.bind('submit',function(){\n\t\t\t\t\t\t\t\tif(_.validate)\n\t\t\t\t\t\t\t\t\t_.submitFu()\n\t\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\t\t_.form[0].submit()\n\t\t\t\t\t\t\t\treturn false\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.bind('reset',function(){\n\t\t\t\t\t\t\t\t_.labels.removeClass(_.invalidCl)\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t_.labels.each(function(){\n\t\t\t\t\t\t\t\t\tvar th=$(this)\n\t\t\t\t\t\t\t\t\t_.hideErrorFu(th)\n\t\t\t\t\t\t\t\t\t_.hideEmptyFu(th)\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t_.form.trigger('reset')\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t_.me||_.init(_.me=th.data({forms:_}))\n\t\t\ttypeof o=='object'\n\t\t\t\t&&$.extend(_,o)\n\t\t})\n\t}\n})(jQuery)\n$(window).load(function(){\n\t$('#form').forms({\n\t\townerEmail:'#'\n\t})\n});"],"sourceRoot":"/source/"}